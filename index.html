<!DOCTYPE html>
<html>
<head>
  <title>tk</title>
  <meta charset="utf-8">    
    
  <link href="bootstrap/css/bootstrap.css" rel="stylesheet">
  <link href="bootstrap/css/sticky-footer.css" rel="stylesheet">
    
  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="js/libs/underscore-1.5.1.js"></script>
  <script src="js/libs/keypress.js"></script>

  <script src="js/utils.js"></script>

<style>
  .male {font-size: 7pt;}
  /*a {color: #4CBB17;}*/
  h1 {
    font-family: "Lucida Console", Courier, monospace;
    font-size: 30px;
  }
</style>

</head>
<body>


<script>

//type dir :
var UP   = 'up';
var DOWN = 'down';
var LEFT = 'left';
var RIGHT= 'right';
var FRONT= 'front';

//type mode:
var SEDI = 'sedi';
var CHODI= 'chodi';

var panakImgs = {
  p1   : {x:0, y:1, w:13,h:33},
  p5   : {x:53,y:1, w:12,h:33},
  sed  : {x:1, y:36,w:14,h:31},
  sed2 : {x:16,y:36,w:14,h:33}
};


//type panakStavy :
var SEDI_FRONT = {mode:SEDI,  dir:FRONT, img: panakImgs.sed2};
var CHODI_LEFT = {mode:CHODI, dir:LEFT };
var CHODI_RIGHT= {mode:CHODI, dir:RIGHT, img: panakImgs.p1};

$(function () {

  var panak = {
    stav : SEDI_FRONT,
    pos  : [0,0],
  };



  var $canvas = $('#canvas-hra').attr({
    width:  300, height: 300
  }).css({
    position: 'absolute',
    left: '-15px', top: '-40px',
    border: '1px dotted white',
    'z-index': -1
  });
  var ctx = $canvas[0].getContext('2d');

  function myDraw (obj,x,y) {
    var objj = obj.stav.img;
    var w = objj.w, h = objj.h;
    ctx.drawImage(img, 
      objj.x,       objj.y,       w, h, 
      obj.pos[0]+x, obj.pos[1]+y, w, h);
  }

  function draw () {

    ctx.clearRect(0, 0, $canvas.width(), $canvas.height());

    var dx = 0;
    var dy = 0;

    ctx.beginPath();
    ctx.arc(160-11+dx,72-2+dy,6,0,2*Math.PI,false);
    ctx.fillStyle='#428BCA';
    ctx.fill();

    myDraw(panak, 153-11+dx, 40-2+dy);

  }

  var img = new Image();
  img.onload = draw;
  img.src = 'img/hra/img.png';


  function arrow (smer) {
    return function(){
      if (panak.stav.mode === SEDI  &&
          panak.stav.dir  === FRONT &&
          smer            === DOWN) {
        log('hop');
        panak.stav = CHODI_RIGHT;
        panak.pos[1] += 20;
      }
      switch (smer) {
        case UP   : log('hore'); break;
        case DOWN : log('dolu'); break;
        case LEFT : log('levo'); break;
        case RIGHT: log('prav'); break;
      }
      draw();
    }
  }

  keypress.combo('up',    arrow(UP));
  keypress.combo('down',  arrow(DOWN));
  keypress.combo('left',  arrow(LEFT));
  keypress.combo('right', arrow(RIGHT));


});
</script>


  <!-- Wrap all page content here -->
  <div id="wrap">

    <!-- Begin page content -->
    <div class="container">

      <div class="page-header" style="position:relative">
        <h1><a href="http://tomkren.cz">tomkren cz</a></h1>
        <canvas id="canvas-hra"></canvas>

      </div>

      <p class="lead">
        <a href="fishtron.html">fishtron.js</a>
      </p>

      <p>
        <a href="mandelbrot.html">Mandelbrot</a><br>
        <a href="sesitek.html">Sešítek</a>
      </p>

      <p class="male">
        <a href="tex/thesis.pdf">diplomka</a><br>
        <a href="tex/evogp13/evogp.pdf">článek 1</a>
      </p>


    </div>
  </div>

  <div id="footer">
    <div class="container">

    <div class="text-muted credit male">
      <a href="http://tomkren.cz">tomkren.cz</a>
        (jakože ofiko r<span id="admin">y</span>líz) <br>
      <a href="http://git.tomkren.cz/tomkren.github.io">
        git.tomkren.cz/tomkren.github.io</a>
        (z repa na serveru)<br>
      <a href="http://tomkren.github.io">tomkren.github.io</a>
        (z origin repa)<br>
      <a href="http://localhost/tomkren.github.io">
        localhost/tomkren.github.io</a> (lokálek) <br>
      <a href="http://146.255.30.53:8080">
        146.255.30.53:8080</a> (node.js pokus)
      </div>
    
    </div>
  </div>
 
<script>
$(function(){ 
  log('Vítejte v mé picérii!');
  $('#admin').css({
    cursor: 'pointer'
  }).click(function(){
    window.location.href = 
     'https://www.angel-hosting.cz/administrace/';
  });
});
</script>
</body>
</html>



